## [Relational Data Model](https://www.youtube.com/watch?v=gjcbqZjlXjM&list=PLcXyemr8ZeoREWGhhZi5FZs6cvymjIBVe&index=2)

**`관계형 데이터 모델`** 은 수학적 개념인 '집합'과 '관계'를 데이터 관리에 적용한 것입니다.

첫 번째로, '집합'은 관계형 데이터 모델에서 **`도메인(Domain)`** 이라고 부르며, 이는 특정 속성이 가질 수 있는 원자적 값들의 집합을 의미합니다. 예를 들어, 학생의 나이를 나타내는 도메인은 양의 정수를 원소로 가진 집합이 될 수 있습니다.

두 번째로, '관계'는 **`테이블(Table)`** 이라고 부릅니다. 테이블은 각 도메인에서 선택된 원소들의 조합으로 이루어진 튜플들의 집합입니다. 이때, 각 원소의 조합을 **`튜플(Tuple)`** 이라고 부르며, 튜플은 테이블의 각 행을 구성합니다.

예를 들어, '학번', '이름', '전공'이라는 도메인이 각각 '학생' 테이블의 '속성'이라고 볼 수 있습니다. 이 속성들은 해당 테이블에서 각 행, 즉 각 '튜플'을 구성하는 요소들입니다. 각 튜플은 '학번', '이름', '전공' 속성에 대한 원자적 값들의 조합으로 이루어져 있습니다.

따라서, '학생' 테이블의 각 행은 '학번', '이름', '전공'이라는 도메인에서 선택된 원소들의 조합인 튜플입니다. 이렇게 튜플들로 이루어진 전체 집합이 '학생' 테이블, 즉 '관계'를 구성합니다.

이런 방식으로 관계형 데이터 모델은 데이터를 집합으로써 표현하고, 이 집합들 간의 관계를 통해 데이터 간의 연결성을 나타냅니다. 이는 데이터베이스 관리 시스템(DBMS)에서 데이터를 효율적으로 관리하는 데 중요한 역할을 합니다.

![image](https://github.com/velyvelylovely/Database/assets/98696925/b1051876-802c-44ee-92e5-6af92b647d58)

| 주요 개념 | 설명 |
| --- | --- |
| Domain | Set of Atomic Values |  
| Domain Name | Domain 이름 |
| Attribute | Domain이 Relation에서 맡은 역할 이름 |
| Tuple | 각 Attribute의 값으로 이루어진 리스트. 일부 값은 NULL 일 수 있음 |
| Relation | Set of Tuples |
| Relation Name | Relation의 이름 |

## Relation Schema

관계 스키마는 관계의 구조를 나타내는 것으로, 관계의 이름과 속성들의 리스트로 표현됩니다. 

예를 들어, '학생'이라는 관계에는 '아이디', '이름', '학년', '전공', '전화번호', '비상연락망' 등의 속성이 있을 수 있습니다. 이를 관계 스키마로 나타내면 STUDENT(id, name, grade, major, phone_num, emer_phone_num)와 같이 표현할 수 있습니다. 또한, 이러한 관계 스키마에는 속성들과 관련된 제약조건들도 포함됩니다.

### Degree of a Relation

관계의 차수는 관계 스키마에서 속성의 수를 의미합니다. 예를 들어, 위의 '학생' 관계 스키마에서는 총 6개의 속성이 있으므로 이 관계의 차수는 6입니다.

### Relation(or Relation State)

관계는 때때로 'Relation State'라는 의미로 사용되기도 합니다. 관계는 개념적인 의미로 사용될 수도 있고, 특정 시점에서의 튜플들의 집합을 의미하는 실제적인 상태를 나타낼 수도 있습니다. 

따라서 문서를 읽을 때는 '관계'가 개념적으로 사용되었는지, 아니면 튜플들의 집합을 의미하는지를 구분할 필요가 있습니다.

## Relational Database 정의

관계형 데이터베이스는 관계형 데이터 모델에 기반하여 구조화된 데이터베이스를 의미합니다. 관계형 데이터베이스는 여러 개의 '관계'로 구성되어 있습니다.

### Relational Databese Schema

관계형 데이터베이스 스키마는 '관계 스키마의 집합'과 '무결성 제약조건의 집합'으로 구성됩니다. 즉, 여러 개의 관계 스키마가 모여 하나의 데이터베이스를 이루며, 이 관계들 사이에는 무결성이 보장되어야 합니다. 

이를 위해 관계 스키마에는 각각의 관계가 만족해야 하는 제약조건들이 포함되어 있습니다.

## Relation의 특징들

관계는 특정한 몇 가지 특징을 가지고 있습니다. 

- 첫째, 관계는 중복된 튜플을 가질 수 없습니다. 이는 관계가 튜플들의 집합이며, 집합은 원칙적으로 중복된 요소를 허용하지 않기 때문입니다. 즉, 같은 정보를 가진 행(row)이 두 번 이상 나타나서는 안 됩니다.

- 둘째, 관계에서 튜플을 식별하기 위해 속성의 부분 집합을 키로 설정합니다. 예를 들어, '학생'이라는 관계에서는 '학번'이라는 속성을 키로 설정하여 각 학생을 구분할 수 있습니다.

- 셋째, 관계에서 튜플의 순서는 중요하지 않습니다. 즉, 데이터베이스에서 행의 위치가 그 행의 의미에 영향을 미치지 않습니다.(튜플의 순서는 일반적으로 중요하지 않지만, 특정 쿼리나 정렬 상황에서는 순서가 중요할 수 있습니다.)

- 마지막으로, 속성은 원자적, 즉 더 이상 나누어지지 않는 단위로 이루어져야 합니다. 이는 복합 속성이나 다중값 속성을 허용하지 않는다는 것을 의미합니다. 예를 들어, '주소'라는 속성은 '도시', '구', '동', '번지' 등으로 나누어질 수 있으므로 원자적이지 않습니다.

## Null의 의미

Null은 데이터베이스에서 특별한 의미를 가집니다. 

- 첫째, Null은 값이 존재하지 않는다는 것을 나타냅니다.

- 둘째, Null은 값이 존재하지만 그 값이 무엇인지 아직 알지 못한다는 것을 나타냅니다.

- 셋째, Null은 해당 사항과 관련이 없다는 것을 나타냅니다.

Null은 이처럼 여러 가지 의미를 가질 수 있기 때문에 Null을 사용할 때는 주의가 필요하며, 가능한 한 Null을 사용하지 않는 것이 좋습니다.

## Key

### 슈퍼 키 (Super Key)

슈퍼 키는 관계에서 튜플을 고유하게 식별할 수 있는 속성들의 집합을 의미합니다. 예를 들어, '학생' 관계에서 '학번', '이름', '학년'이라는 속성들의 집합은 슈퍼 키가 될 수 있습니다. 왜냐하면 이 세 가지 속성을 모두 알면 특정 학생을 정확히 식별할 수 있기 때문입니다.

### 후보 키 (Candidate Key)

후보 키는 어떤 하나의 속성이라도 제거하면 튜플을 고유하게 식별할 수 없는 슈퍼 키를 말합니다. 즉, 최소한의 속성으로 이루어진 슈퍼 키입니다. 예를 들어, '학생' 관계에서 '학번'이라는 속성만으로도 학생을 고유하게 식별할 수 있으므로 '학번'은 후보 키가 될 수 있습니다.

### 기본 키 (Primary Key)

기본 키는 관계에서 튜플을 고유하게 식별하기 위해 선택된 후보 키를 말합니다. 예를 들어, '학생' 관계에서 '학번'이 기본 키로 선택될 수 있습니다. 이는 각 학생이 고유한 학번을 가지므로 학번으로 학생을 정확히 식별할 수 있기 때문입니다.

### 유니크 키 (Unique Key)

유니크 키는 기본 키가 아닌 후보 키를 말합니다. 이를 다른 말로는 대체 키(Alternate Key)라고도 합니다. 예를 들어, '학생' 관계에서 '이메일'이 유니크 키가 될 수 있습니다. 각 학생이 고유한 이메일 주소를 가지므로 이메일 주소로 학생을 식별할 수 있지만, 기본 키는 '학번'이므로 '이메일'은 유니크 키가 됩니다.

### 외래 키 (Foreign Key)

외래 키는 다른 관계의 기본 키를 참조하는 속성들의 집합을 말합니다.

## 제약 조건 (Constraints)

제약 조건은 관계형 데이터베이스의 관계들이 항상 지켜야 하는 규칙을 의미합니다. 이는 데이터의 일관성과 무결성을 보장하기 위한 중요한 도구입니다. 제약 조건을 위반하면 데이터베이스 오류가 발생하게 됩니다.

### 내재적 제약 조건 (Implicit Constraints)

내재적 제약 조건은 관계형 데이터 모델 자체에서 따르는 규칙입니다. 예를 들어, 하나의 관계에서는 중복된 튜플을 가질 수 없으며, 같은 이름의 속성도 가질 수 없습니다.

### 스키마 기반 제약 조건 (Schema-based Constraints)

스키마 기반 제약 조건은 데이터 정의 언어(DDL)를 통해 스키마에 직접 명시할 수 있는 규칙입니다. 이러한 제약 조건은 명시적 제약 조건(Explicit Constraints)이라고도 합니다.

스키마 기반 제약 조건에는 다음과 같은 종류가 있습니다.

- **도메인 제약 조건 (Domain Constraints)**: 속성의 값은 해당 속성의 도메인에 속하는 값이어야 합니다.
- **키 제약 조건 (Key Constraints)**: 서로 다른 튜플은 동일한 키 값을 가질 수 없습니다.
- **널 값 제약 조건 (Null Value Constraints)**: 속성이 NOT NULL로 명시되었다면 NULL 값을 가질 수 없습니다.
- **엔티티 무결성 제약 조건 (Entity Integrity Constraints)**: 기본 키는 값에 NULL을 가질 수 없습니다.
- **참조 무결성 제약 조건 (Referential Integrity Constraints)**: 외래 키가 기본 키와 동일한 도메인(Domain)에 속해야 하며, 외래 키가 기본 키에 없는 값을 가질 수 없습니다.

이렇게 제약 조건은 데이터베이스에서 데이터의 일관성을 보장하는 데 필수적인 도구입니다. 이를 통해 데이터의 품질을 높이고, 실제 서비스에서 생길 수 있는 문제를 미리 방지할 수 있습니다.
