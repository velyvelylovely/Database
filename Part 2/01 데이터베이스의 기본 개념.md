## DB & DBMS & DB System

### Database

데이터베이스란, 전자적으로 저장되고 사용되는 서로 관련있는 데이터들의 집합을 말합니다. 예를 들어, 댓글, 사진, 개인 정보와 같은 데이터들은 같은 출처에서 생성되고, 같은 목적을 가지며, 같은 서비스 안에서 관리되므로 관련있는 데이터들이라고 볼 수 있습니다. 

이렇게 관련있는 데이터들을 잘 조직화해두면, 우리가 원하는 데이터를 더 빠르게 찾을 수 있을 뿐 아니라, 불필요한 데이터의 중복 생성을 막을 수 있고, 데이터 간의 불일치 문제를 해결할 수 있습니다. 이런 데이터들이 전자적으로 저장되는 것은 데이터가 컴퓨터 내부에 저장되어 사용된다는 의미입니다. 

### DBMS (database management systems)

DBMS라는 것은 사용자에게 데이터베이스를 정의하고 만들고 관리할 수 있는 기능을 제공하는 소프트웨어 시스템입니다. PostgreSQL, MySQL, ORACLE, SQL Server 등이 대표적인 예입니다. 

데이터베이스를 정의하면서 생성되는 부가적인 데이터들이 있는데, 이를 메타데이터라고 부릅니다. 

### Metadata 

메타데이터는 데이터베이스를 설명하거나 기술하는 데이터를 의미합니다. 이는 카탈로그라고도 불리며, 데이터베이스의 메타데이터가 저장되는 곳입니다. 

예를 들어, 데이터 유형, 구조, 제약 조건, 보안, 저장, 인덱스, 사용자 그룹 등이 여기에 속합니다. 메타데이터는 DBMS를 통해 저장되고 관리됩니다. 

메타데이터는 원래 '데이터에 대한 데이터'라는 의미로, 데이터를 설명하기 위한 데이터라고 할 수 있습니다. 예를 들어, 사진을 찍으면 그 사진의 해상도, 포맷, 찍힌 날짜 등이 사진이라는 데이터를 설명하는 부가적인 정보들이므로 메타데이터라고 할 수 있습니다. 

### Database System 

데이터베이스 시스템이란, 데이터베이스와 데이터베이스를 관리할 수 있게 해주는 DBMS, 그리고 데이터베이스와 연관된 애플리케이션들을 모두 포함한 것을 말합니다. 이는 줄여서 '데이터베이스'라고도 부르며, 문맥에 따라 순수한 데이터베이스만을 의미하기도 하고, 전체 데이터베이스 시스템을 의미하기도 합니다. 

## Data Models

데이터 모델은 데이터베이스 구조를 추상화하여 표현하는 수단을 제공하는 개념의 집합입니다. 

이는 데이터베이스의 구조를 원하는 형태와 추상화 수준으로 모델링하기 위해 필요하며, 데이터베이스에서 읽고 쓰기 위한 기본적인 동작들을 포함합니다. 

데이터베이스의 구조에는 데이터 유형, 데이터 관계, 제약 사항 등이 포함됩니다. 

데이터 모델은 크게 개념적 데이터 모델, 논리적 데이터 모델, 물리적 데이터 모델로 분류할 수 있습니다.

### Conceptual (or high-level) Data Models

개념적 데이터 모델은 데이터베이스의 전체적인 구조를 이해하는 데 도움을 주는 도구로, 일반 사용자가 이해하기 쉽도록 고수준의 추상화를 제공합니다. 이는 기업이나 조직의 업무 요구사항을 반영하며, 주로 엔티티와 그들 사이의 관계를 통해 데이터를 모델링합니다.

예를 들어, 대학 도서관 시스템을 모델링한다고 가정해봅시다. 이 시스템에서 중요한 엔티티는 '학생', '책', 그리고 '대출' 등이 될 수 있습니다. '학생' 엔티티는 '학번', '이름', '학과' 등의 속성을 가질 수 있고, '책' 엔티티는 '도서번호', '도서명', '저자' 등의 속성을 가질 수 있습니다.

이들 엔티티 사이의 관계를 정의하면, '학생'은 '책'을 '대출'할 수 있습니다. 이때 '대출'은 '학생'과 '책' 사이의 관계를 나타내며, '대출일', '반납일' 등의 추가적인 정보를 가질 수 있습니다.

### Logical (or representational) Data Models

논리적 데이터 모델은 이해하기 어렵지 않으면서도 디테일하게 데이터베이스를 구조화할 수 있는 개념들을 제공합니다. 

이 모델은 실제로 데이터가 컴퓨터에 저장될 때의 구조와 크게 다르지 않게 데이터베이스를 구조화하며, 특정 DBMS나 저장소에 종속되지 않는 수준에서 데이터베이스를 구조화할 수 있습니다. 대표적인 논리적 데이터 모델로는 관계형 데이터 모델이 있으며, 이는 데이터를 테이블 형태로 저장합니다.

### Physical (or low-level) Data Models 

물리적 데이터 모델은 컴퓨터에 데이터가 어떻게 파일 형태로 저장되는지를 기술할 수 있는 수단을 제공합니다. 

이는 데이터가 실제로 저장장치에 저장되는 형태에 가장 근접하게 데이터베이스 구조를 표현할 수 있는 데이터 모델입니다. 

이 모델은 데이터 형식, 데이터 순서, 접근 경로 등 실제로 컴퓨터에 저장되는 것과 밀접하게 모델링할 수 있는 방법들을 제공합니다.

## Schema & State

데이터 모델을 기반으로 데이터베이스의 스키마와 상태를 이해하는 것이 중요합니다.

### Database Schema  

스키마는 데이터베이스의 '청사진'이라고 볼 수 있습니다. '데이터 모델'이 데이터베이스의 구조를 모델링할 수 있는 방법을 제공하는 것이라면, '데이터베이스 스키마'는 그 모델을 바탕으로 실제 데이터베이스의 구조를 구체적으로 기술하고 표현합니다.

예를 들어, 관계형 데이터베이스의 스키마를 살펴보면, '학생(Student)'이라는 테이블에는 '학번', '이름', '전공' 등의 필드가 있고, '책(Book)'이라는 테이블에는 '도서번호', '도서명', '저자' 등의 필드가 있을 수 있습니다. 이처럼 스키마는 테이블과 필드, 그리고 이들 사이의 관계를 정의하며, 이를 통해 데이터베이스의 전체적인 구조를 이해할 수 있습니다.

또한 스키마는 데이터베이스 설계 시 결정되며, 한 번 정해지면 자주 바뀌지 않습니다. 이는 데이터베이스의 구조가 일관성을 유지하도록 하고, 데이터의 무결성을 보장하는 데 중요합니다.

따라서 스키마를 잘 설계하는 것은 데이터베이스의 효율적인 운영을 위해 필수적이며, 이를 위해서는 데이터 모델링 과정에서 데이터의 특성과 관계를 충분히 이해하고 반영해야 합니다.

이렇게 스키마를 통해 데이터베이스의 구조를 미리 정의하고 관리함으로써, 데이터의 저장, 검색, 수정 등이 용이하게 이루어질 수 있습니다.

### Database State

데이터베이스 상태는 특정 시점에 데이터베이스에 있는 실제 데이터를 의미합니다. 시간이 지남에 따라 데이터는 추가, 수정, 삭제 등의 변경이 있을 수 있으므로, 특정 시점의 데이터베이스 상태는 해당 시점의 데이터 인스턴스 집합을 나타냅니다.

### Three-Schema Architecture

Three-Schema Architecture는 사용자 애플리케이션으로부터 물리적인 데이터베이스를 분리시키는 목적으로 사용되는 데이터베이스 시스템 구조입니다. 이 아키텍처는 세 가지 레벨, 즉 외부 스키마, 개념적 스키마, 내부 스키마가 있습니다.

- **외부 스키마(External Schema)** 는 사용자가 바라보는 스키마로, 특정 사용자 그룹이 필요로 하는 데이터만을 표현합니다.
- **개념적 스키마(Conceptual Schema)** 는 전체 데이터베이스에 대한 구조를 기술하며, 인터널 스키마를 한 번 추상화하여 표현합니다.
- **내부 스키마(Internal Schema)** 는 실제로 물리적인 저장장치에 가장 가까이 있는 스키마로, 물리적으로 데이터가 어떻게 저장되는지를 표현합니다.

이 세 가지 스키마는 각 레벨을 독립시키기 위해 사용되며, 한 레벨에서의 변화가 다른 레벨에 영향을 주지 않도록 합니다.

### Three-Schema Architecture 요약

Three-Schema Architecture는 데이터베이스 시스템을 안정적으로 운영하기 위한 아키텍처입니다. 이 아키텍처의 주요 목적은 각 레벨을 독립적으로 유지하고, 한 레벨에서의 변화가 다른 레벨에 영향을 주지 않도록 하는 것입니다.

예를 들면, 내부 스키마에서 변경이 발생해도 개념 스키마를 수정할 필요가 없습니다. 단지 개념 스키마와 내부 스키마 사이의 매핑만 변경하면 되기 때문에, 시스템 운영이 안정적으로 유지됩니다. 

마찬가지로, 개념 스키마에서 변화가 생겨도 외부 스키마에는 영향을 미치지 않습니다. 둘 사이의 매핑만 바꾸면 되므로, 이런 방식으로 시스템이 안정적으로 운영됩니다.

현대의 대부분의 데이터베이스 관리 시스템(DBMS)은 세 가지 레벨을 완전히 분리하거나 명시적으로 나누지는 않지만, 어느 정도 Three-Schema Architecture를 따릅니다. 이 때, 각 스키마는 데이터베이스 구조를 표현하는 것이지만, 실제 데이터가 존재하는 곳은 internal level 입니다.

## 데이터베이스 언어

데이터베이스 언어에는 여러 종류가 있습니다.

- **데이터 정의 언어(DDL)**: 개념 스키마를 정의하는 데 사용되는 언어입니다. 내부 스키마를 파라미터를 통해 정의하기도 합니다.
- **저장 정의 언어(SDL)**: 내부 스키마를 정의하는 데 사용되는 언어입니다. 요즘에는 관계형 DBMS에서 SDL 대신 파라미터를 통해 내부 스키마를 설정하는 경우가 대부분입니다.
- **뷰 정의 언어(VDL)**: 외부 스키마를 정의하는 데 사용되는 언어입니다. 대부분의 DBMS에서는 DDL이 VDL의 역할까지 수행합니다.
- **데이터 조작 언어(DML)**: 실제 데이터를 활용하는 데 사용되는 언어로, 데이터를 추가, 삭제, 수정, 검색하는 등의 기능을 제공합니다.

이런 다양한 언어들은 보통 통합된 언어로 존재합니다. 대표적인 예로는 관계형 데이터베이스 언어인 SQL이 있습니다. SQL은 DML, VDL, DDL의 역할을 모두 수행합니다.
